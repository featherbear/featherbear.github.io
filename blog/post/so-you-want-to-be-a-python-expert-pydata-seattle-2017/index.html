<!DOCTYPE html>
<html lang="en-us" dir="ltr">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>So You Want to Be a Python Expert? | PyData Seattle 2017 &middot; Andrew&#39;s Blog</title>
  <meta name="description" content="Things you should know as as a Python expert" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
  <link rel="stylesheet" href="../../css/main.min.css" />
  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-107434487-3', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  <style>
    body {
      background: #ecedef url("/IMG_0072.jpg") repeat;
    }
  </style>
</head>
  <body class="single-body">
    <nav class="nav-bar side-padding">
  <h1 class="nav-header"><a href="" class="nav-text">[Back to Home]</a></h1>
  <div class="hamburger-menu">
    <button onclick="hamburgerMenuPressed.call(this)" aria-haspopup="true" aria-expanded="false" aria-controls="menu" aria-label="Menu">
      <span></span>
      <span></span>
    </button>
    <ul id="menu" class="hamburger-menu-overlay">
      <li><a href="" class="hamburger-menu-overlay-link">Home</a></li>
      <li><a href="categories/ai" class="hamburger-menu-overlay-link">Ai</a></li><li><a href="categories/audio-visual" class="hamburger-menu-overlay-link">Audio visual</a></li><li><a href="categories/life" class="hamburger-menu-overlay-link">Life</a></li><li><a href="categories/networking" class="hamburger-menu-overlay-link">Networking</a></li><li><a href="categories/photography" class="hamburger-menu-overlay-link">Photography</a></li><li><a href="categories/programming" class="hamburger-menu-overlay-link">Programming</a></li><li><a href="categories/python" class="hamburger-menu-overlay-link">Python</a></li><li><a href="categories/unsw" class="hamburger-menu-overlay-link">Unsw</a></li><li><a href="categories/webdev" class="hamburger-menu-overlay-link">Webdev</a></li>
    </ul>
  </div>
</nav>
    <main class="content side-text-padding">
      <article class="post ">
        <header class="post-header">
        	<h1 class="post-title">So You Want to Be a Python Expert? | PyData Seattle 2017</h1>
          <p class="post-date">Posted <time datetime="2019-04-24">Apr 24, 2019</time></p>
        </header>
        
        

<p>So I got bored and decided to watch <a href="https://www.youtube.com/watch?v=cKPlPJyQrt4">this video</a>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="//www.youtube.com/embed/cKPlPJyQrt4" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>
</p>

<p>These were the things covered in the presentation:</p>

<hr />

<h1 id="using-data-model-methods">Using data model methods</h1>

<p>Or [double] underscore functions&hellip;</p>

<p>The Python data model is a means by which we can implement protocols, that have abstract meaning depending on the object</p>

<p>For example, the methods:</p>

<ul>
<li><code>__init__</code></li>
<li><code>__new__</code></li>
<li><code>__add__</code></li>
<li><code>__str__</code></li>
<li><code>__repr__</code></li>
</ul>

<p><strong>Aside</strong><br />
There also exists class methods, and static methods.<br />
Class methods are bound to a class rather than an instance of an object, and look like the following</p>

<pre><code class="language-python3">class dummy():
  @classmethod
  def createThisClass(cls):
    return cls()


dummy.createThisClass()
dummy().createThisClass()
</code></pre>

<p>Static methods are methods that exist within a class, but are not bounded to the scope of a class nor an object instance.</p>

<pre><code class="language-python3">class dummy():
  @staticmethod
  def doSomething():
    #             ^ notice there is no `self` parameter
    return &quot;blah&quot;

dummy.doSomething()
dummy().doSomething()
</code></pre>

<h1 id="metaclasses">Metaclasses</h1>

<p>Metaclasses are classes derived from the class <code>type</code> that allow derived types to be intercepted</p>

<p><em>Consider a library that will be subclassed in user code<br />
A derived class is able to enforce a constraint on the base class<br />
ie <code>assert hasattr(Base, 'foo'), &quot;Uh oh, it broke!&quot;</code></em></p>

<p>But how could we check if a derived class has a method defined&hellip;</p>

<pre><code class="language-python3">class BaseMeta(type):
  def __new__(cls, name, bases, body):
    if not 'bar' in body: raise TypeError()
    return super().__new__(cls, name, bases, body)

class Base(metaclass=BaseMeta):
  def foo():
    return self.bar()
</code></pre>

<hr />

<p><code>__init_class__</code> (PEP 487)</p>

<p>Called when a class is inherited from another class</p>

<pre><code class="language-python3">def __init_subclass__(cls, *a, **kw):
  return super().__init_subclass__(cls, *a, **kw)
</code></pre>

<hr />

<p><strong>Aside</strong>:<br />
We could also use the abstract method library in Python to prevent code from being run, however this will only cause failure during production</p>

<p><code>from abc import ABC, abstractmethod</code></p>

<hr />

<p>The unused approach:<br />
Like the other data model methods, there exists a function <code>builtins.__build_class__</code> which hooks into the building of a class.<br />
We could wrap around this function to check that, if a class inherits Base, it has has methods defined</p>

<h1 id="decorators">Decorators</h1>

<pre><code class="language-python3">def decorator_function(fn):
  def function_wrapper(*args, **kwargs):
    return fn(*args, **kwargs)
  return function_wrapper
</code></pre>

<p>A decorator is Python syntax to represent <code>func = wrapper(func)</code><br />
Create a new function that takes in an original function</p>

<p>We could even write a wrapper that calls another function n times</p>

<h1 id="generators">Generators</h1>

<p>eager - gives you everything<br />
// For queuing states</p>

<p>ie in the below code, we are unable to start processing the queue until it is all completed</p>

<pre><code class="language-python3">from time import sleep
def compute():
  rv = []
  for i in range(10):
    rv.append(i)
    sleep(0.5)
</code></pre>

<p>// yield does not actually execute the code until the previous item is retrieved</p>

<p>If we didn&rsquo;t use yield, we would do something like</p>

<pre><code class="language-python3">class Compute:
  def __iter__(self):
    self.last = 0
    return self
  def __next__(self):
    rv = self.last
    self.last += 1
    if self.last &gt; 10:
      raise StopIteration()
    sleep(0.5)
    return rv
</code></pre>

<p>But - we don&rsquo;t even need to use a generator to return values<br />
We could use it as a sequence</p>

<p>Lazy-divide</p>

<pre><code class="language-python3">def api()
  first()
  yield
  second()
  yield
  third()
</code></pre>

<p>We might not yield a value, but we yield control back to the user</p>

<h1 id="context-managers">Context Managers</h1>

<p>Setup and teardown</p>

<p>When we open a file, we have to close it</p>

<pre><code class="language-python3">f = open('file', 'r')
f.close()
</code></pre>

<p>There exists a context manager for opening files</p>

<pre><code class="language-python3">with open('file', 'r') as f:
  doSomething()
  # f.close() performed automatically during the teardown
</code></pre>

<p>Essentially</p>

<pre><code class="language-python3">with ctx() as x:
  pass
  
#################

x = ctx().__enter__()
try:
  ...
finally:
  x.__exit__()
</code></pre>

<p>We can use a context manager with a generator</p>

<pre><code>class ctx:
  def __call__(self, *args, **kwargs):
    self.args, self.kwargs = args, kwargs
    return self
  def __enter__(self):
    pass
  def __exit__(self):
    pass
</code></pre>

<p>This allows us to pass in variables into our context generator</p>

<pre><code class="language-python3">ctxObj = ctx()
with ctxObj() as x:
  pass
</code></pre>

<p>JKTHOUGH
There exists a decorator function <code>contextlib.contextmanager</code> which turns a generator into a context manager</p>

<pre><code class="language-python3">from contextlib import contextmanager

@contextmanager
def soemthing(arg):
  doSomething(arg)
  try:
    yield
  finally:
    doSomethingElse()
</code></pre>

      </article>
      
    </main>
    <nav class="end-nav side-padding">
      
      <a ontouchstart="cardPressed.call(this)" ontouchend="cardReleased.call(this)" ontouchmove="cardReleased.call(this)" 
  href="../../post/multi-messaging-apps/" class="card blog-card" rel="bookmark" >
    
    <div class="card-img-container">
      <p class="card-img-overlay">Next Article</p>
      <picture>
        <source srcset="">
        <img src="" class="card-img" >
      </picture>
    </div>
    
  <article class="card-body">
    <h2 class="card-title">Multi Messaging Apps</h2>
    <p class="card-text">The quest for the one app to rule them all</p>
    <div class="card-subtext muted-text">
      <p>Posted <time datetime="2019-03-21 321:00">Mar 21, 2019</time></p>
      <p></p>
    </div>
  </article>
</a>
      
      <a ontouchstart="cardPressed.call(this)" ontouchend="cardReleased.call(this)" ontouchmove="cardReleased.call(this)" 
  href="" class="card home-card" style="background-image: url( img/grey-cloud.jpg )" rel="bookmark" >
  Home
</a>
    </nav>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.js" integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/contrib/auto-render.min.js" integrity="sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>
<script src="js/core.js"></script>
<script>
  hljs.initHighlightingOnLoad();
</script>
  </body>
</html>