<!DOCTYPE html>
<html lang="en-us" dir="ltr">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Balloon Shooting Challenge &middot; Andrew&#39;s Blog</title>
  <meta name="description" content="Writing a game with Microsoft&#39;s Small Basic language!" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css" />
  <link rel="stylesheet" href="../../css/style.css" />
  <link rel="stylesheet" href="../../css/xcode.css" />
  <link rel="stylesheet" href="../../css/mystyle.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
  <link rel="stylesheet" href="../../css/latolatinfonts.css" />
  
  <style>
    body {
      background: #ecedef url("/blog/IMG_0072.jpg") repeat;
    }
  </style>
  
</head>
  <body class="single-body">
    <nav class="nav-bar side-padding">
  <h1 class="nav-header"><a href="../../" class="nav-text">
    [Back to Home]
  </a></h1>
  <div class="hamburger-menu">
		<input type="checkbox" onclick="hamburgerMenuPressed()"/>
		<span></span>
		<span></span>
    <ul class="hamburger-menu-overlay">
      <li><a href="../../" class="hamburger-menu-overlay-link">Home</a></li>
      
      
			<li><a href="../../categories/ai" class="hamburger-menu-overlay-link">Ai</a></li>
			
			<li><a href="../../categories/audio-visual" class="hamburger-menu-overlay-link">Audio visual</a></li>
			
			<li><a href="../../categories/life" class="hamburger-menu-overlay-link">Life</a></li>
			
			<li><a href="../../categories/networking" class="hamburger-menu-overlay-link">Networking</a></li>
			
			<li><a href="../../categories/photography" class="hamburger-menu-overlay-link">Photography</a></li>
			
			<li><a href="../../categories/programming" class="hamburger-menu-overlay-link">Programming</a></li>
			
			<li><a href="../../categories/python" class="hamburger-menu-overlay-link">Python</a></li>
			
			<li><a href="../../categories/unsw" class="hamburger-menu-overlay-link">Unsw</a></li>
			
			<li><a href="../../categories/webdev" class="hamburger-menu-overlay-link">Webdev</a></li>
			
    </ul>
  </div>
</nav>
    <main class="content side-text-padding">
      <article class="post dropcase">
        <header class="post-header">
        	<h1 class="post-title">Balloon Shooting Challenge</h1>
          <p class="post-date">Posted <time datetime="2019-02-15">Feb 15, 2019</time></p>
        </header>
        
        <figure class="post-figure">
          <img src="../../post/smallbasic-balloon-shooting-game/Snipaste_2019-02-15_20-52-51.png">
        </figure>
        
        

<blockquote>
<p>My code can be found on GitHub: <a href="https://github.com/featherbear/smallbasic-balloon-shooting-game">featherbear/smallbasic-balloon-shooting-game</a></p>
</blockquote>

<p>A while ago I applied for a position at a company which taught children how to code&hellip;<br />
Today I got an email back with a programming challenge, let&rsquo;s have a crack at it!</p>

<hr />

<p><details>
<summary>The Challenge (click to expand)</summary>
<i>In order to solve the challenge you will need to download and learn a new (and very simple) coding language, I hope you will enjoy the challenge.</p>

<p>Please install the <a href="http://download.microsoft.com/download/C/A/F/CAF9E062-94D3-4003-80D9-44CDF7EC7BD9/SmallBasic.msi">Small Basic software</a> and review the <a href="http://download.microsoft.com/download/9/0/6/90616372-C4BF-4628-BC82-BD709635220D/Introducing%20Small%20Basic.pdf">tutorial</a>.<br />
You can find more materials on the <a href="http://smallbasic.com/">Small Basic site</a>.</p>

<p><strong>The Challenge</strong><br />
Develop a shooting game, the player goal is to shoot the balloon down.</p>

<p><strong>Controls</strong></p>

<ul>
<li>The player can move the cannon up and down using the arrow keys</li>
<li>To fire a bullet the player will press [SPACE].</li>
</ul>

<p><strong>Rules</strong></p>

<ul>
<li>The balloon should move up and down randomly.</li>
<li>The player can shoot one bullet at a time.</li>
<li>Only when the bullet is out of the game then the player can shoot again.</li>
<li>The game ends when the balloon is shot down, please show the amount of missed shots.</li>
<li>The bullet speed should be 1.5 times the speed of the balloon.</li>
<li>The balloon can change directions (up or down) at any time.
</i>
</details></li>
</ul>

<hr />

<p>Okay cool, <a href="http://smallbasic.com">Small Basic</a> - I&rsquo;ve heard of it but I&rsquo;ve never used it before.<br />
That can change.</p>

<h1 id="exploring-small-basic">Exploring Small Basic</h1>

<p>So first thing&rsquo;s first with learning any new language, is knowing how to write it!<br />
The tutorial document (<a href="http://download.microsoft.com/download/9/0/6/90616372-C4BF-4628-BC82-BD709635220D/Introducing%20Small%20Basic.pdf">Introducing Small Basic.pdf</a>) goes over the intro - though I&rsquo;m going to summarise it here for my own reference.</p>

<p><details>
<summary>Syntax (click to expand)</summary></p>

<h2 id="general">General</h2>

<ul>
<li>No semicolons ðŸ™ƒ</li>
<li>Variables are dynamically typed</li>
<li>Strings and integers can be joined together (<code>&quot;I am &quot; + 19 + &quot; years old!&quot;</code>)</li>
<li>Indentation is not important</li>
<li>Commenting: <code>' Start with a single quote</code></li>
</ul>

<pre><code>TextWindow.Write(&quot;Enter your name: &quot;)
name = TextWindow.Read()
   TextWindow.WriteLine(&quot;Hello, &quot; + name + &quot;!&quot;)
' TextWindow.WriteLine(&quot;You won't see this line&quot;)
</code></pre>

<h2 id="flow">Flow</h2>

<ul>
<li>No switch-case</li>
<li>If-Then-ElseIf-Then-Else-EndIf</li>
<li>No OR, AND - We have to nest and stack If-Then and Else statement</li>
<li>Logical operator EQ with single <code>=</code></li>
<li>Logical operator NEQ with <code>&lt;&gt;</code></li>
</ul>

<h2 id="label-goto">Label:, Goto</h2>

<ul>
<li>Yeah uh - no.</li>
</ul>

<h2 id="loops">Loops</h2>

<h3 id="for-to-endfor">For-To-EndFor</h3>

<pre><code>For i = 1 To 24
  TextWindow.WriteLine(i)
EndFor
</code></pre>

<h4 id="for-to-step-endfor">For-To-Step-EndFor</h4>

<pre><code>For i = 10 To 1 Step -1
  TextWindow.WriteLine(i)
EndFor
</code></pre>

<h3 id="while-endwhile">While-EndWhile</h3>

<pre><code>number = 0
While (number &lt; 100)
  number = number + 1
EndWhile
</code></pre>

<h2 id="maths">Maths</h2>

<ul>
<li>No modulo operator - Use <code>Math.Remainder(n, modulo)</code></li>
<li>Division returns a float</li>
</ul>

<h2 id="subroutines">Subroutines</h2>

<pre><code>Sub PrintTime
  TextWindow.WriteLine(Clock.Time)
EndSub
</code></pre>

<h2 id="functions">Functions</h2>

<ul>
<li>No functions exist</li>
</ul>

<h2 id="arrays">Arrays</h2>

<p>SmallBasic&rsquo;s <code>array</code> type is actually more like a dictionary, indexes can be integers and strings.<br />
Also doesn&rsquo;t look like we need to declare nor define our array variable. (<strong><em>screams internally</em></strong>)</p>

<p>Assignment of an array into another array is passed by copy, rather than reference</p>

<p>With that said, officially - indexing starts at 1 (ONE)</p>

<h2 id="graphics">Graphics</h2>

<p>SmallBasic gives us <code>GraphicsWindow</code>, <code>Shape</code>, and <code>Turtle</code> to do our graphical mayhem.
Co-ordinates are anchored from the top left
</details></p>

<h1 id="coding-time">Coding Time</h1>

<blockquote>
<p>GitHub: <a href="https://github.com/featherbear/smallbasic-balloon-shooting-game">featherbear/smallbasic-balloon-shooting-game</a></p>
</blockquote>

<p>The first thing to do was to set up the game window</p>

<p>As per the genre of a classical 2D arcade shooting game, we&rsquo;ll need the typical things:</p>

<ul>
<li>Player movement - The player will need to move up and down</li>
<li>Enemy movement - The movement of the enemy</li>
<li>Projectile movement - The movement of the gunball</li>
<li>Score system - The number of gunballs shot. Final score is the number of <em>missed</em> shots (so score = n-1)</li>
<li>Hit detection - Register if the projectile has hit the enemy</li>
</ul>

<p>&hellip; and sprites!<br />
&hellip; music and SFX would be nice too, but no thanks.</p>

<hr />

<p>We sort of have a choice, to create the sprites first then fit the code around the sprites - or to write the code first and then fit the sprites to the code.<br />
The latter is better,<br />
but I did the first.</p>

<p>So fire up Photoshop (or <a href="https://www.getpaint.net/">Paint.NET</a> in my case), and make a few sprites!</p>

<hr />

<p>Step two was to set up the game window, something like an aspect ratio of 1.77:1 (measuring the dimensions of the game window in the challenge specifications)</p>

<hr />

<p>Step three would be then to start writing the game code.<br />
Since I had recently made the sprites, I wanted to write the code to display them on the screen.</p>

<p>Small Basic <strong>doesn&rsquo;t have user functions</strong>, but only subprocedures (<em>that&rsquo;s kinda dumb&hellip;</em>), meaning that the code in the subprocedure will be accessing arbitrary values in the global scope. ugh&hellip;<br />
To keep my sanity, I made an array which would hold the arguments, and also another array to return values.</p>

<p>Arrays bother me, <em>as you will read later on in the <a href="#final-thoughts">Final Thoughts</a></em>, so for more sanity protection, I defined my <code>args</code>, <code>rets</code>, and <code>objs</code> &lsquo;arrays&rsquo;</p>

<p>So in similar fashion to writing in Assembly, before I call my <code>obj_init</code> &lsquo;function&rsquo;, I would load my arguments into the <code>args</code> array &lsquo;registers&rsquo;</p>

<hr />

<p>Step four, implement player movement!</p>

<p>Small Basic <strong>doesn&rsquo;t have AND, or OR operators</strong>, meaning that if you wanted to write something like</p>

<pre><code>if (a &amp;&amp; b) { ... }
</code></pre>

<p>You would have to write</p>

<pre><code>If a Then
  If b Then
    ...
  EndIf
EndIf
</code></pre>

<p>The player movement would need to be restricted to the bounds of the game window, so as to not allow the player to move out of the screen</p>

<hr />

<p>Step five, pew pew!</p>

<p>To implement the gunball (and its movement) we&rsquo;ll need to use some sort of timer interval to move the gunball.<br />
Small Basic has <code>Shapes.Animate([shapeName], [x], [y], [durationInMilliseconds])</code> - but it seems to have an easing motion, which isn&rsquo;t what we wanted, so I used the <code>Shapes.Move</code> function.</p>

<p>When the gunball leaves the screen, it should disappear, and the player will be allowed to fire a new gunball (maximum of one gunball on the screen at a time)</p>

<hr />

<p>Step six, Up!</p>

<p><em>Aside: Pixar&rsquo;s 2009 animation Up is actually such a powerful narration of love&hellip;</em> anyway.</p>

<p>The balloon should move up and down the screen, and every while and then it should change direction - I chose a randomness 1%.<br />
We also need to change the direction if the balloon reaches the bounds of the game window.</p>

<p>Since my balloon sprite has a string attached (<em>and a balloon won&rsquo;t pop if you poke it by the string</em>), I allowed the bottom of the balloon sprite to pass the bounds of the game window.</p>

<hr />

<p>Step seven was to code the collision / hit detection of the gunball and the balloon.</p>

<p>Because my balloon sprite had a string attached, I had to manually define the hitbox regions (<em>where the balloon actually was in the sprite</em>).<br />
It was also circular, meaning that I would have to do some fancy maths for hit detection - but I wasn&rsquo;t bothered</p>

<p>So yes, the hit detection is off, but oh well.</p>

<hr />

<p>The last steps were to implement the end game message, which would tell the player the number of gunballs missed (<em>aka, the number of gunballs fired minus one</em>). Also a few more state variables and flags to tie up some loose ends (no string puns intended)</p>

<hr />

<h1 id="game-time">Game Time</h1>

<p><img src="animation.gif" alt="" /></p>

<p>Because of my not-so-well-written hit detection algorithm, I sometimes experienced false-positive game ends - as I would expect.</p>

<p>Otherwise, on the whole it works!!!</p>

<h1 id="final-thoughts">Final Thoughts</h1>

<p>Small Basic combines Microsoft&rsquo;s syntax ecosystem with something like Python&rsquo;s syntax to create a beautiful mess.<br />
That&rsquo;s an overstatement though, Small Basic kinda sucks.</p>

<p><strong>Firstly</strong>, <code>arrays</code>.<br />
The thing that shocks me the most - that you don&rsquo;t need to declare the type of the variable, but can instantly do <code>something[&quot;like&quot;] = &quot;this&quot;</code> without even saying what <code>something</code> is.<br />
Even Python would tell us that <code>something</code> is not defined.</p>

<p><strong>Secondly</strong>, <code>goto</code> statements. Oh boy.<br />
Whilst <code>goto</code> has its use (<em>does it really???</em>), I recommend against it as it&rsquo;s not programmatic.<br />
<code>goto</code> is used in the official tutorial, and that really irks me.</p>

<p>But that said, Small Basic <strong><em>does</em></strong> have its quality - Especially having a graphical framework (GraphicsWindow, Shapes, ImageList, Turtle) built-in. For introducing people to programming, I would say that it&rsquo;s quite solid.</p>

<p>But that also said, something like Python also has the <code>turtle</code> library.</p>

<p>BaCk To ReAl PrOgRaMmInG iN hTmL</p>

      </article>
      
    </main>
    <nav class="end-nav side-padding">
      
      <a ontouchstart="cardPressed.call(this)" ontouchend="cardReleased.call(this)" ontouchmove="cardReleased.call(this)" 
  href="../../post/python36-f-string/" class="card blog-card" rel="bookmark" >
    
    <div class="card-img-container">
      <p class="card-img-overlay">Next Article</p>
      <img src="" class="card-img">
    </div>
    
  <article class="card-body">
    <h2 class="card-title">Python 3.6 F-strings</h2>
    <p class="card-text">I finally looked at What&#39;s New in Python 3.6</p>
    <div class="card-subtext muted-text">
      <p>Posted <time datetime="2019-02-13 213:00">Feb 13, 2019</time></p>
      <p>#Python #Programming </p>
    </div>
  </article>
</a>
      
      <a ontouchstart="cardPressed.call(this)" ontouchend="cardReleased.call(this)" ontouchmove="cardReleased.call(this)" 
  href="../../" class="card home-card" style="background-image: url( ../../img/home-img.png )" rel="bookmark" >
  Home
</a>
    </nav>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.js" integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/contrib/auto-render.min.js" integrity="sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script type="text/javascript" src="../../js/core.js"></script>
<script>
  hljs.initHighlightingOnLoad();
</script>
  </body>
</html>