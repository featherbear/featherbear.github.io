var Elevator=function(e){"use strict";var n,t,o,l,i,u,a=null,d=null,r=null,c=!1,s=null,m=null,f=0,p=null,A=null,v=!1,w=this;function b(e){s||(s=e);var n,i,u,a=e-s,c=(n=a,i=m,u=f-m,(n/=r/2)<1?u/2*n*n+i:-u/2*(--n*(n-2)-1)+i);window.scrollTo(0,c),a<r?d=requestAnimationFrame(b):function(){E(),t&&(t.pause(),t.currentTime=0);o&&o.play();l&&l()}()}function E(){s=null,m=null,v=!1}function T(){p&&(f=function(e){for(var n=0;e;)n+=e.offsetTop||0,e=e.offsetParent;return A&&(n-=A),n}(p))}function k(){v&&(cancelAnimationFrame(d),E(),t&&(t.pause(),t.currentTime=0),T(),window.scrollTo(0,f))}this.elevate=function(){v||(v=!0,m=document.documentElement.scrollTop||a.scrollTop,T(),c||(r=1.5*Math.abs(f-m)),requestAnimationFrame(b),t&&t.play(),n&&n())},i=e,window.requestAnimationFrame&&window.Audio&&window.addEventListener&&(a=document.body,(i=function(e,n){for(var t in n)void 0===e[t]&&"function"!=typeof t&&(e[t]=n[t]);return e}(i,{duration:void 0,mainAudio:!1,endAudio:!1,preloadAudio:!0,loopAudio:!0,startCallback:null,endCallback:null})).element&&((u=i.element).addEventListener?u.addEventListener("click",w.elevate,!1):u.attachEvent("onclick",function(){T(),document.documentElement.scrollTop=f,document.body.scrollTop=f,window.scroll(0,f)})),i.duration&&(c=!0,r=i.duration),i.targetElement&&(p=i.targetElement),i.verticalPadding&&(A=i.verticalPadding),window.addEventListener("blur",k,!1),i.mainAudio&&((t=new Audio(i.mainAudio)).setAttribute("preload",i.preloadAudio),t.setAttribute("loop",i.loopAudio)),i.endAudio&&(o=new Audio(i.endAudio)).setAttribute("preload","true"),i.endCallback&&(l=i.endCallback),i.startCallback&&(n=i.startCallback))};"undefined"!=typeof module&&module.exports&&(module.exports=Elevator);